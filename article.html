<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manuscript | Whallop & Co.</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lora:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<nav>
  <a href="index.html" class="logo">WHALLOP & CO.</a>
  <div class="nav-links">
    <a href="index.html">Back to Archive</a>
    <button id="theme-toggle" onclick="toggleTheme()">Switch Mode</button>
  </div>
</nav>

<div class="feed" id="article-content" style="margin-top: 50px;">
  </div>

<footer>
  <div class="footer-left">© 2026 WHALLOP & CO. ARCHIVE</div>
  <div class="footer-right">
    <a href="StockSummary.html">STOCK DRAFT</a>
    <a href="https://github.com/philipjlamantia">GITHUB</a>
  </div>
</footer>

<script src="js/theme.js"></script>
<script>
  // Small script specifically for this page to load one article
  async function loadSingleArticle() {
    const params = new URLSearchParams(window.location.search);
    const articleId = params.get('id'); // Gets the title or ID from the URL

    const response = await fetch('data/content.json');
    const works = await response.json();
    
    // Find the specific work that matches the ID
    const work = works.find(w => w.title.replace(/\s+/g, '-').toLowerCase() === articleId);

    if (work) {
      document.title = `${work.title} | Whallop & Co.`;
      const container = document.getElementById('article-content');
      
      const contentHtml = work.type === 'poem' 
        ? `<div class="poetry-block">${work.content}</div>`
        : `<div class="essay-body">${work.content}</div>`;

      container.innerHTML = `
        <span class="metadata">${work.date} • ${work.category.toUpperCase()}</span>
        <h1 style="font-family: 'Playfair Display', serif; font-size: 3.5rem; color: var(--title-color); margin-bottom: 10px;">${work.title}</h1>
        <div class="byline" style="margin-bottom: 50px;">By ${work.author}</div>
        ${contentHtml}
      `;
    }
  }
  loadSingleArticle();
</script>
</body>
</html>